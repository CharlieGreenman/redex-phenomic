{"type":"published","id":"bs-knex","name":"bs-knex","version":"0.2.1","description":"BuckleScript interface to the node 'knex' library","author":"Brandon Konkle","license":"BSD-2-Clause","keywords":["knex","sql","database","node","bucklescript","reason"],"body":"# bs-knex\n\nBuckleScript utilities for working with the Node [knex](http://knexjs.org/) library.\n\n## Example\n\n```reason\nlet knex = Knex.make({\n  \"client\": \"pg\",\n  \"connection\": {\n    \"user\": Config.Database.username,\n    \"password\": Config.Database.password,\n    \"host\": Config.Database.hostname,\n    \"port\": Config.Database.port,\n    \"database\": Config.Database.name\n  },\n  \"pool\": {\n    \"min\": Config.Database.poolMin,\n    \"max\": Config.Database.poolMax,\n    \"idleTimeoutMillis\": Config.Database.poolIdle\n  },\n  \"acquireConnectionTimeout\": 2000\n});\n\nlet users = [@bs] knex(\"users\", Js.Nullable.null);\n\nusers\n  |> insert({\n        \"user_name\": user##userName,\n        \"display_name\": user##displayName,\n        \"email\": user##email\n      })\n  |> returning(\"*\")\n  |> toPromise\n  |> then_(handleResponse(~error=\"Unable to add User.\"))\n  |> then_(pickFirst)\n  |> handleUniqueError(\n        ~name=\"users_email_unique\",\n        ~message=\"That email address is already in use.\"\n      )\n  |> handleUniqueError(\n        ~name=\"users_user_name_unique\",\n        ~message=\"That user name is already in use.\"\n      )\n  |> handleDbErrors;\n```","analyzed":"2017-12-19T04:44:23.862Z","updated":"2017-12-19T04:44:23.862Z","stars":0,"score":0.4898424412442207,"quality":0.4404449708819793,"popularity":0.02203040569397734,"maintenance":0.9999951656763855,"homepageUrl":"https://github.com/ecliptic/bucklescript-tools#readme","repositoryUrl":"https://github.com/ecliptic/bucklescript-tools","npmUrl":"https://www.npmjs.com/package/bs-knex","issuesUrl":"https://github.com/ecliptic/bucklescript-tools/issues","docsUrl":null}